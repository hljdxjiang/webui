!function(){var a="../images/loading.gif",b={confirmBox:function(a){var c,d,e,f,g,h,i,b=function(){$(".ui_dialog_confirm").fadeOut(100,function(){$(this).remove()})};$(".ui_dialog_confirm").length>0&&$(".ui_dialog_confirm").remove(),a&&"undefined"!=typeof a&&(a.title&&"undefined"!=typeof a.title||(a.title="温馨提示"),a.msg=a.msg||(a.message?a.message:a.text),a.msg||(a.msg=""),c="",a.ok&&(d=a.ok,e=d["class"]?d["class"]:"ok",f=(d["title"]?d["title"]:d["text"])||"OK",g='<a href="javascript:;" id="ui_dialog_ok" class="'+e+'">'+f+"</a>",c+=g),a.cancel&&(h=a.cancel,e=d["class"]?h["class"]:"cancel",f=(h["title"]?h["title"]:h["text"])||"Cancel",g='<a href="javascript:;"  id="ui_dialog_cancel"  class="'+e+'">'+f+"</a>",c+=g),i='<div class="ui_dialog_confirm"><div class="ui_mask ui_mask_bk"></div><div class="ui_dialog"><div class="ui_dialog_hd"><strong class="ui_dialog_title">'+a.title+'</strong></div><div class="ui_dialog_msg">',i+=/MSIE/gi.test(navigator.userAgent)&&a.ok&&a.cancel?a.msg+'</div><div class="ui_dialog_bt ui_dialog_bt_ie">':a.msg+'</div><div class="ui_dialog_bt">',i+=c+"</div></div></div>",$(i).hide().appendTo("body").fadeIn(100),$("#ui_dialog_ok").click(function(){if(b(),d=a.ok,void 0==d["action"])try{a.ok(a)}catch(c){return $.ui.alert(c.message),void 0}else d.action(a)}),$("#ui_dialog_cancel").click(function(){if(b(),h=a.cancel,void 0==h["action"])try{a.cancel(a)}catch(c){return $.ui.alert(c.message),void 0}else h.action(a)}))}},c={loading:function(b){var d,e,f,g,h,c=function(){var b=!1;return""!=a&&"undefined"!=typeof a&&$.ajax({url:a,type:"get",timeout:"1000",async:!1,success:function(){b=!0}}),b};if(("undefined"==typeof b||null==b)&&(b=""),d={},"string"==typeof b?d.msg=b:(d=b,"undefined"==typeof d.msg&&(d.msg="")),d.msg=d.msg||(d.message?d.message:d.text),$(".ui_loading_toast").length>0&&$(".ui_loading_toast").remove(),e='<div class="ui_loading_toast"><div class="ui_mask"></div><div class="ui-toast">',e+='<div class="ui-toast-fading-circle">',f=c())e+='<img style="width:40px;width:40px;" src="'+a+'"/>',e+='</div><div class="ui-toast-content" style="margin-bottom:10px;">'+d.msg+"</div>";else if(/MSIE/gi.test(navigator.userAgent))e='<div class="ui_loading_toast"><div class="ui_mask"></div><div class="ui-toast-content-ie-noimag">',e+=d.msg;else{for(g=0;12>=g;g++)e+='<div class="ui-toast-circle'+g+' ui-toast-circle"></div>';e+='</div><div class="ui-toast-content">'+d.msg+"</div>"}e+="</div></div>",$(e).hide().appendTo("body").fadeIn(100,function(){if(d.showtime)try{setTimeout(function(){$(".ui_loading_toast").remove(),d.callback=d.callback||d.action,d.callback&&d.callback(d)},d.showtime)}catch(a){}}),/MSIE/gi.test(navigator.userAgent)&&!f&&(g=0,h=function(){var a=d.msg;switch(g%=3){case 0:a+=" •";break;case 1:a+=" • •";break;case 2:a+=" • • •"}return $(".ui-toast-content-ie-noimag").length>0?($(".ui-toast-content-ie-noimag").html(a),g++,setTimeout(function(){h()},400),void 0):!1},h())},show:function(a,b){var c,d;$(".ui-show-toast").length>0&&$(".ui-show-toast").remove(),("undefined"==typeof a||null==a)&&(a=""),c={},"string"==typeof a?c.msg=a:(c=a,c.msg=c.msg||(c.message?c.message:c.text),"undefined"==typeof c.msg&&(c.msg="")),c.cls=b?b:"ok",c.showtime=c.showtime?c.showtime:1e3,d='<div class="ui-show-toast"><div class="ui_mask"></div><div class="ui-show">',d+='<i class="ui-icon-prompt ui-icon-'+c.cls+'"></i><p class="ui-show-content">'+c.msg+"</p>",d+="</div></div>",$(d).hide().appendTo("body").fadeIn(100,function(){setTimeout(function(){$(".ui-show-toast").remove();try{c.callback=c.callback||c.action,c.callback&&c.callback(c)}catch(a){$.ui.alert(a.message)}},c.showtime)})},hide:function(a){$(".ui_loading_toast").fadeOut(100,function(){if($(this).remove(),"undefined"!=typeof a&&"string"!=typeof a)try{a.callback=a.callback||a.action,a.callback?a.callback():a()}catch(b){$.ui.alert(b.message)}})}};$.ui=$.ui||{},$.extend($.ui,{alert:function(a){var c={};null==a&&(a=""),"string"==typeof a?(c.msg=a,c.ok=function(){}):c=a,"undefined"==typeof c.ok&&(c.ok=function(){}),c.cancel=null,b.confirmBox(c)},confirm:function(a){null==a&&(a=""),npa={},"string"==typeof a?(npa.msg=a,npa.ok=function(){},npa.cancel=function(){}):(npa=a,"undefined"==typeof npa.ok&&(npa.ok=function(){}),"undefined"==typeof npa.cancel&&(npa.cancel=function(){})),b.confirmBox(npa)},prompt:function(){pa={},arguments.length>1?(pa.title=arguments[0],pa.value=arguments[1]):(arguments.length=0)?(pa.title="",pa.value=""):(pa=arguments[0],"string"==typeof pa?pa.title="请输入":(("undefined"==typeof pa.title||void 0==pa.title)&&(pa.title="请输入"),("undefined"==typeof pa.value||void 0==pa.value)&&(pa.value=""))),"undefined"==typeof pa.type||void 0==pa.type?pa.type="text":"text"==!pa.type&&"password"==!pa.type&&(pa.type="text"),pa.ok||(pa.ok=function(){}),pa.cancel||(pa.ok=function(){}),b.confirmBox(pa);var a='<input type="'+pa.type+'" class="ui-prompt-input"';""!=pa.value&&void 0!=pa.value&&(a+="value="+pa.value),a+="/>",$(".ui_dialog_msg").empty().append(a),$("#ui_dialog_ok").unbind().click(function(){pa.value=$(".ui-prompt-input").val(),$(".ui_dialog_confirm").fadeOut(100,function(){$(this).remove()});var a=pa.ok;if(void 0==a["action"])try{pa.ok(pa.value)}catch(b){return $.ui.alert(b.message),void 0}else a.action(pa.value)}),$("#ui_dialog_cancel").unbind().click(function(){pa.value=null,$(".ui_dialog_confirm").fadeOut(100,function(){$(this).remove()});var a=pa.cancel;if(void 0==a["action"])try{pa.cancel(pa.value)}catch(b){return $.ui.alert(b.message),void 0}else a.action(pa.value)})}}),$.ui.loading=$.ui.loading||{},$.extend($.ui.loading,{imgpath:function(){return arguments.length>0&&(a=arguments[0]),this},show:function(a){c.loading(a)},hide:function(a){c.hide(a)}}),$.ui.toast=$.ui.toast||{},$.extend($.ui.toast,{show:function(a,b){c.show(a,b)},ok:function(a){c.show(a,"ok")},info:function(a){c.show(a,"info")},warn:function(a){c.show(a,"warn")},download:function(a){c.show(a,"download")}})}(jQuery);